{% extends 'base.html' %}
{% load static %}
{% block title %}Donate a Book - LearnCycle{% endblock %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-emerald-50 via-white to-teal-50 flex items-center justify-center py-10 px-4 relative overflow-hidden">
    <!-- Animated background orbs -->
    <div class="absolute inset-0 -z-10">
        <div class="absolute w-72 h-72 bg-emerald-300/30 rounded-full blur-3xl top-20 left-10 animate-pulse"></div>
        <div class="absolute w-80 h-80 bg-teal-300/30 rounded-full blur-3xl bottom-10 right-10 animate-pulse"></div>
    </div>

    <!-- Donation Card -->
    <div class="w-full max-w-2xl bg-white/95 backdrop-blur-md rounded-3xl shadow-2xl border border-gray-100 overflow-hidden transform transition-all hover:scale-[1.01] duration-300 animate-fade-in">
        <div class="bg-gradient-to-r from-emerald-600 to-teal-600 text-white px-8 py-6">
            <h2 class="text-3xl font-bold tracking-tight">Donate a Book</h2>
            <p class="mt-2 text-emerald-100 text-sm">Earn <strong>10 Book Points</strong> for every approved donation!</p>
        </div>

        <div class="p-8 space-y-6">
            <form method="post" enctype="multipart/form-data" class="space-y-6">
                {% csrf_token %}
                
                <!-- Title -->
                <div>
                    <label for="{{ form.title.id_for_label }}" class="block text-gray-700 font-semibold mb-2">Title</label>
                    {{ form.title }}
                    {% if form.title.errors %}
                        <p class="text-red-500 text-sm mt-1">{{ form.title.errors }}</p>
                    {% endif %}
                </div>

                <!-- Author -->
                <div>
                    <label for="{{ form.author.id_for_label }}" class="block text-gray-700 font-semibold mb-2">Author</label>
                    {{ form.author }}
                    {% if form.author.errors %}
                        <p class="text-red-500 text-sm mt-1">{{ form.author.errors }}</p>
                    {% endif %}
                </div>

                <!-- Category -->
                <div>
                    <label for="{{ form.category.id_for_label }}" class="block text-gray-700 font-semibold mb-2">Category</label>
                    {{ form.category }}
                    {% if form.category.errors %}
                        <p class="text-red-500 text-sm mt-1">{{ form.category.errors }}</p>
                    {% endif %}
                </div>

                <!-- Condition -->
                <div>
                    <label for="{{ form.condition.id_for_label }}" class="block text-gray-700 font-semibold mb-2">Condition</label>
                    {{ form.condition }}
                    {% if form.condition.errors %}
                        <p class="text-red-500 text-sm mt-1">{{ form.condition.errors }}</p>
                    {% endif %}
                </div>

                <!-- Description -->
                <div>
                    <label for="{{ form.description.id_for_label }}" class="block text-gray-700 font-semibold mb-2">Description</label>
                    {{ form.description }}
                    {% if form.description.errors %}
                        <p class="text-red-500 text-sm mt-1">{{ form.description.errors }}</p>
                    {% endif %}
                </div>

                <!-- Image -->
                <div>
                    <label for="{{ form.image.id_for_label }}" class="block text-gray-700 font-semibold mb-2">Upload Book Image</label>
                    {{ form.image }}
                    {% if form.image.errors %}
                        <p class="text-red-500 text-sm mt-1">{{ form.image.errors }}</p>
                    {% endif %}
                </div>

                <button type="submit"
                    class="w-full py-3 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white font-semibold rounded-xl shadow-md transition-all duration-300 transform hover:scale-[1.03] focus:ring-4 focus:ring-emerald-300">
                    Submit Donation
                </button>
            </form>
        </div>

        <div class="bg-gray-50 border-t border-gray-200 px-8 py-5 flex justify-between text-sm text-gray-600">
            <a href="{% url 'donation_history' %}" class="hover:text-emerald-600 font-medium transition">View My Donations</a>
            <a href="{% url 'book_list' %}" class="hover:text-emerald-600 font-medium transition">‚Üê Back to Books</a>
        </div>
    </div>
</div>

<style>
    @keyframes fade-in {
        from { opacity: 0; transform: translateY(40px); }
        to { opacity: 1; transform: translateY(0); }
    }
    .animate-fade-in {
        animation: fade-in 0.8s ease-out both;
    }
    /* Style Django form fields */
    input, select, textarea {
        width: 100%;
        padding: 0.75rem;
        border: 1px solid #d1d5db;
        border-radius: 0.75rem;
        font-size: 1rem;
        transition: all 0.2s;
    }
    input:focus, select:focus, textarea:focus {
        outline: none;
        border-color: #059669;
        box-shadow: 0 0 0 3px rgba(5, 150, 105, 0.1);
    }
</style>
{% endblock %}